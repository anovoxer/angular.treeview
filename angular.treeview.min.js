/*
	@version 0.1.6
	https://github.com/smolk/angular.treeview

	@fork from:
	@license Angular Treeview version 0.1.6
	â“’ 2013 AHN JAE-HA http://github.com/eu81273/angular.treeview
	License: MIT


	[TREE attribute]
	angular-treeview: the treeview directive
	tree-id : each tree's unique id.
	tree-model : the tree model on $scope.
	node-id : each node's id
	node-label : each node's label
	node-children: each node's children
 	node-filter: free text to search in tree nodes

	<div
		data-angular-treeview="true"
		data-tree-id="tree"
		data-tree-model="roleList"
		data-node-id="roleId"
		data-node-label="roleName"
		data-node-children="children"
 		data-node-filter="freeTextSearch">
	</div>
*/
!function(e){"use strict";e.module("angularTreeview",[]).directive("treeModel",["$compile","$log",function(e,d){return{restrict:"A",link:function(d,n,l){var a=l.treeId,t=a?a+".":"",o=l.treeModel,c=l.nodeId||"id",i=l.nodeLabel||"label",r=l.nodeChildren||"children",s=l.nodeFilter||"",u=""!==s?" | nodefilter: "+s:"",g='<ul><li data-ng-repeat="node in '+o+u+'"><i class="collapsed" data-ng-show="node.'+r+'.length && node.collapsed" data-ng-click="'+a+'.selectNodeHead(node)"></i><i class="expanded" data-ng-show="node.'+r+'.length && !node.collapsed" data-ng-click="'+a+'.selectNodeHead(node)"></i><i class="normal" data-ng-hide="node.'+r+'.length"></i> <span data-ng-class="node.selected" data-ng-click="'+t+'selectNodeLabel(node)">{{node.'+i+'}}</span><div data-ng-hide="node.collapsed" data-tree-id="'+a+'" data-tree-model="node.'+r+'" data-node-id='+c+" data-node-label="+i+" data-node-children="+r+' data-current-node-id="'+currentNodeId+'"></div></li></ul>';if(o){if(l.angularTreeview){var f=d;a&&(f=d[a]=d[a]||{}),f.selectNodeHead=f.selectNodeHead||function(e){e.collapsed=!e.collapsed},f.selectNodeLabel=f.selectNodeLabel||function(e){f.currentNode&&f.currentNode.selected&&(f.currentNode.selected=void 0),e.selected="selected",f.currentNode=e}}n.html("").append(e(g)(d))}}}}]).filter("nodefilter",["$filter",function(d){var n=d("filter");return function(d,l){var a=n(d,l);return l&&a.length>0&&e.forEach(a,function(e){e.collapsed=!1}),a}}])}(angular);